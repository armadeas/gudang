<!-- BEGIN FOOTER -->
<div class="footer">
   <div class="footer-inner">
      2013 &copy; Metronic by keenthemes.
   </div>
   <div class="footer-tools">
      <span class="go-top">
      <i class="icon-angle-up"></i>
      </span>
   </div>
</div>
</div><!-- Tutup div page-isi -->
<!-- END FOOTER -->
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->   
<!--[if lt IE 9]>
<script src="<?php echo base_url() ?>assets/plugins/respond.min.js"></script>
<script src="<?php echo base_url() ?>assets/plugins/excanvas.min.js"></script> 
<![endif]-->   
<script src="<?php echo base_url() ?>assets/plugins/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>   
<!-- IMPORTANT! Load jquery-ui-1.10.3.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="<?php echo base_url() ?>assets/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap-hover-dropdown/twitter-bootstrap-hover-dropdown.min.js" type="text/javascript" ></script>
<script src="<?php echo base_url() ?>assets/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/jquery.blockui.min.js" type="text/javascript"></script>  
<script src="<?php echo base_url() ?>assets/plugins/jquery.cookie.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/uniform/jquery.uniform.min.js" type="text/javascript" ></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<!--<script src="<?php //echo base_url() ?>assets/plugins/jqvmap/jqvmap/jquery.vmap.js" type="text/javascript"></script>   
<script src="<?php //echo base_url() ?>assets/plugins/jqvmap/jqvmap/maps/jquery.vmap.russia.js" type="text/javascript"></script>
<script src="<?php //echo base_url() ?>assets/plugins/jqvmap/jqvmap/maps/jquery.vmap.world.js" type="text/javascript"></script>
<script src="<?php //echo base_url() ?>assets/plugins/jqvmap/jqvmap/maps/jquery.vmap.europe.js" type="text/javascript"></script>
<script src="<?php //echo base_url() ?>assets/plugins/jqvmap/jqvmap/maps/jquery.vmap.germany.js" type="text/javascript"></script>
<script src="<?php //echo base_url() ?>assets/plugins/jqvmap/jqvmap/maps/jquery.vmap.usa.js" type="text/javascript"></script>
<script src="<?php //echo base_url() ?>assets/plugins/jqvmap/jqvmap/data/jquery.vmap.sampledata.js" type="text/javascript"></script> -->
<script src="<?php echo base_url() ?>assets/plugins/flot/jquery.flot.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/flot/jquery.flot.resize.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/jquery.pulsate.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap-daterangepicker/moment.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>     
<script src="<?php echo base_url() ?>assets/plugins/gritter/js/jquery.gritter.js" type="text/javascript"></script>
<!-- IMPORTANT! fullcalendar depends on jquery-ui-1.10.3.custom.min.js for drag & drop support -->
<script src="<?php echo base_url() ?>assets/plugins/fullcalendar/fullcalendar/fullcalendar.min.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/jquery-easy-pie-chart/jquery.easy-pie-chart.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/plugins/jquery.sparkline.min.js" type="text/javascript"></script>  
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="<?php echo base_url() ?>assets/scripts/app.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/scripts/index.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/scripts/tasks.js" type="text/javascript"></script>        
<script src="<?php echo base_url() ?>assets/plugins/backstretch/jquery.backstretch.min.js" type="text/javascript"></script>
<script type="text/javascript" src="<?php echo base_url() ?>assets/plugins/data-tables/jquery.dataTables.js"></script>
<script type="text/javascript" src="<?php echo base_url() ?>assets/plugins/data-tables/DT_bootstrap.js"></script>
<script type="text/javascript" src="<?php echo base_url() ?>assets/plugins/select2/select2.min.js"></script>
<!--<script src="<?php echo base_url() ?>assets/scripts/ui-extended-modals.js"></script>-->
<script src="<?php echo base_url() ?>assets/scripts/active-menu.js"></script>  
<script type="text/javascript" src="<?php echo base_url() ?>assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap-modal/js/bootstrap-modalmanager.js" type="text/javascript" ></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap-modal/js/bootstrap-modal.js" type="text/javascript" ></script>
<script type="text/javascript" src="<?php echo base_url() ?>assets/plugins/jquery-validation/dist/jquery.validate.min.js"></script>
<script type="text/javascript" src="<?php echo base_url() ?>assets/plugins/jquery-validation/dist/additional-methods.min.js"></script>
<script src="<?php echo base_url() ?>assets/scripts/formQueryBuilder.js" type="text/javascript"></script>
<script src="<?php echo base_url() ?>assets/scripts/table.js"></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap-toastr/toastr.min.js"></script>
<script src="<?php echo base_url() ?>assets/plugins/bootstrap/js/bootstrap2-typeahead.min.js" type="text/javascript"></script>
<script type="text/javascript" src="<?php echo base_url() ?>assets/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<script data-pace-options='{ "ajax": false }' src="<?php echo base_url() ?>assets/scripts/pace.js"></script>
<script>
var base_url = "<?php echo base_url() ?>";
var idleTime = 0;
var waktu_aktif = 0;
var waktu_diam = 900000;

  jQuery(document).ready(function() {    
     App.init(); // initlayout and core plugins
     Index.init();
     //Index.initJQVMAP(); // init index page's custom scripts
     Index.initCalendar(); // init index page's custom scripts
     Index.initCharts(); // init index page's custom scripts
     Index.initChat();
     Index.initMiniCharts();
     Index.initDashboardDaterange();
     Index.initIntro();
     Tasks.initDashboardWidget();
     //Table.init();
     ActiveMenu.init();
     //UIExtendedModals.init();
     $.backstretch([
            "<?php echo base_url() ?>assets/img/bg/1.jpg",
            "<?php echo base_url() ?>assets/img/bg/2.jpg",
            "<?php echo base_url() ?>assets/img/bg/3.jpg",
            "<?php echo base_url() ?>assets/img/bg/4.jpg"
            ], {
              fade: 1000,
              duration: 8000
          });        
    var idleInterval = setInterval(timerIncrement, waktu_diam); // 1 minute
    var idleIntervals = setInterval(
    function(){
      waktu_aktif = waktu_aktif+1000;
      //console.log(waktu_aktif);
      waktu_persen = waktu_aktif/waktu_diam*100;
      //console.log(waktu_persen);
      $("#progress-lock").width(waktu_persen+'%');
      if (waktu_persen == '50') $('#progress-lock').removeClass('progress-bar-success').addClass('progress-bar-warning');
      else if(waktu_persen == '80') $('#progress-lock').removeClass('progress-bar-warning').addClass('progress-bar-danger');
      else if(waktu_aktif == '1000')$('#progress-lock').addClass('progress-bar-success').removeClass('progress-bar-warning').removeClass('progress-bar-danger');
      //console.log(waktu_persen);
    }, 1000); // 1 minute
    //Zero the idle timer on mouse movement.
    $(this).mousemove(function (e) {
        idleTime = 0;
        waktu_aktif = 0;
    });
    $(this).keypress(function (e) {
        idleTime = 0;
        waktu_aktif = 0;
    });
    //console.log(idleInterval);    
  });
  function runScript(e, idfield) {
    if (e.keyCode == 13) {
        $('#field'+idfield).focus();
        //alert(idfield);
    }
  }
  function unlock(){
    $('.page-lock').addClass('hide');
    $('.isi-page').removeClass('hide');
    idleTime = 0;
    waktu_aktif = 0;
  }
  paceOptions = {
  ajax: false, // disabled
  document: false, // disabled
  eventLag: false, // disabled
  elements: {
    selectors: ['.page-container']
  }
};
 /* MENIU FILTER FOR MENU WITH SUBMENU START */
    var findInput = $("#findInput");
    var divList = $(".side_menu");
    var divListChilds;
    var searchPhrase = '';
    var n = 0;
    var c = 0;
    var countVisible = 0;
    var text = '';

    if( findInput.val() == "Silahkan ketik nama menu..."){
        findInput.val('');
    }

    findInput.focus();
    findInput.live("keyup", update_search_results);

    function update_search_results(){
        if(findInput.val() == "Silahkan ketik nama menu..."){
            searchPhrase = '';
        }



        if(searchPhrase != findInput.val()){
            searchPhrase = findInput.val().toLowerCase();
            if(findInput.val() == "Silahkan ketik nama menu..."){
                searchPhrase = '';
            }
            // items
            c = 1;
            //countVisible = $(divList).children().length;
            if(searchPhrase != '') {
                // Expand all submenus
                $('.sub-menu').css('display', 'block');
                $(divList).children().each(function(idx, val){
                    $(this).addClass('open');
                });
            }


            $(divList).find('.sub-menu').children().each(function(idx, val){
                text = $(this).find('a').text().toLowerCase();
                if(text != undefined) {
                    if(text.search(searchPhrase) >= 0){
                        $(this).css('display', 'block')
                        //if($(this).parent().children('li:visible').length > 0) {
                        $(this).parent().parent().css('display', 'block');
                        //}
                    } else {
                        if($(this).attr('data-except') != "except") {
                            $(this).css('display', 'none');
                            if($(this).parent().children('li:visible').length < 1) {
                                $(this).parent().parent().css('display', 'none');
                            }
                        }
                    }

                    if(searchPhrase == '')  {
                        if($(this).parent().parent().attr('class') != "active open") {
                            $(this).parent().css('display', 'none');
                            $(this).parent().parent().removeClass('open');
                        }
                    }
                }
            });

            if(searchPhrase == '')  {
                $(this).removeClass('open');
            }

        }
    }
    /* MENIU FILTER FOR MENU WITH SUBMENU END */

    findInput.bind('click focus',function(){
        if(findInput.val() == "Silahkan ketik nama menu..."){
            findInput.val('');
        }
    });

    findInput.blur(function(){
        if(findInput.val() == ''){
            findInput.attr('placeholder', "Silahkan ketik nama menu...");
        }
    });
    function timerIncrement() {
    idleTime = idleTime + 1;
    if (idleTime == 1) { // 20 minutes
        //alert('deas');
        idleTime = 1;
        //console.log(idleTime);
        $('.isi-page').addClass('hide');
        $('.page-lock').removeClass('hide');
        //$('.close').click();
        //waktu_aktif = -99999;
        //alert('wkwk');
    }
}
</script>
<!-- END JAVASCRIPTS -->
</body>
</html>